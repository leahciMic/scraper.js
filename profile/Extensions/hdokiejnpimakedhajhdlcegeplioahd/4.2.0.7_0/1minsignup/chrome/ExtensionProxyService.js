var oneMinuteSignup=oneMinuteSignup||{};oneMinuteSignup.ExtensionProxyService={createTab:function(e,n,t){chrome.tabs.create({url:e,active:n},function(e){"function"==typeof t&&t(new oneMinuteSignup.Tab(e.id,e.url))})},updateTab:function(e,n,t){chrome.tabs.update(e,{url:n},function(e){"function"==typeof t&&t(e?new oneMinuteSignup.Tab(e.id,e.url):null)})},onMessage:function(e){chrome.runtime.onMessage.addListener(function(n,t,i){"function"==typeof e&&e(n,t.tab.id,function(){i()})})},onUpdateTab:function(e){chrome.tabs.onUpdated.addListener(function(n,t,i){"complete"===t.status&&i&&"function"==typeof e&&e(i.id,t.url)})},removeCookies:function(e,n){chrome.permissions.request({permissions:["cookies"]},function(t){t&&chrome.cookies.getAll({url:e},function(t){t.forEach(function(n){chrome.cookies.remove({url:e,name:n.name})}),"function"==typeof n&&n()})})},executeScript:function(e,n,t){chrome.tabs.executeScript(e,{code:n},t)},injectScript:function(e,n,t){chrome.tabs.executeScript(e,{file:n},t)},executeScriptWithFrameWork:function(e){oneMinuteSignup.ExtensionProxyService.injectScript(e.tabId,"1minsignup/ContentScripts/doNotCloseWarning.js",function(){oneMinuteSignup.ExtensionProxyService.injectScript(e.tabId,"1minsignup/Framework.js",function(){oneMinuteSignup.ExtensionProxyService.injectScript(e.tabId,"1minsignup/chrome/ExtensionHostEnvironment.js",function(){oneMinuteSignup.ExtensionProxyService.executeScript(e.tabId,e.activeScript,function(){oneMinuteSignup.ExtensionProxyService.executeScript(e.tabId,e.activeTriggerScript)})})})})},sendMessageToSite:function(e,n){chrome.tabs.sendMessage(n,e)},focusTabById:function(e){chrome.tabs.update(e,{active:!0})},focusTabByUrl:function(e){chrome.tabs.query({},function(n){n.forEach(function(n){n.url.match(e)&&chrome.tabs.update(n.id,{active:!0})})})},closeTab:function(e){chrome.tabs.get(e,function(e){e&&chrome.tabs.remove(e.id)})}};