var VaultRepromptDialog=function(e){RepromptDialog.call(this,e)};VaultRepromptDialog.prototype=Object.create(RepromptDialog.prototype),VaultRepromptDialog.prototype.constructor=VaultRepromptDialog,function(){VaultRepromptDialog.prototype.open=function(e){RepromptDialog.prototype.open.call(this,$.extend(e,{defaultData:{delayRepromptTime:bg.Preferences.get("reprompttime")}}))},VaultRepromptDialog.prototype.initialize=function(e){RepromptDialog.prototype.initialize.apply(this,arguments),function(e){e.inputFields.delayRepromptTime.onChange(function(t){e.inputFields.delayReprompt.setValue(parseInt(t)>0)}),e.inputFields.delayReprompt.onChange(function(t){t||e.inputFields.delayRepromptTime.setValue("0")})}(this)},VaultRepromptDialog.prototype.success=function(e){bg.Preferences.set("reprompttime",e.delayRepromptTime),bg.Preferences.set("lastreprompttime",Date.now()),"function"==typeof this.data.successCallback?this.data.successCallback():bg.repromptSuccess()},VaultRepromptDialog.prototype.validateReprompt=function(e){bg.make_lp_key_hash(bg.get("g_username"),e.params.password,function(t,p){t===LPProxy.getLocalKey()?e.success(e.params):e.repromptFailed()})}}();