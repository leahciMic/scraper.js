var IntroTutorialUtils=function(){function o(o,e){try{var t={};if(e?t=e.tutorialStatus||e.tutorialData:(o=document.getElementsByClassName("lpiframeoverlay")[0],t.domain=document.domain),document.URL.toLowerCase().includes(t.domain)){var i;t.domain.includes("google.com")?(i=document.getElementById("Email"),i.className.includes("hidden")&&(i=document.getElementById("Passwd"))):t.domain.includes("amazon.com")?i=document.getElementById("ap_email"):t.domain.includes("facebook.com")?i=document.getElementById("email")?document.getElementById("email"):document.getElementById("pass"):t.domain.includes("netflix.com")&&(i=document.getElementsByName("email")[0],i.type.includes("hidden")&&(i=document.getElementsByName("password")[0])),o.style.top=i.getBoundingClientRect().top-45+"px",o.style.left=i.getBoundingClientRect().left-390+"px"}}catch(o){console.log("Error in setIFramePosition: "+o.message)}}function e(o,e){var t=e.URL.toLowerCase();t.includes(o.tutorialStatus.domain)&&(t.includes("amazon.com/gp/yourstore/home")&&(document.location="https://www.amazon.com/ap/cnep?_encoding=UTF8&openid.assoc_handle=usflex"),t.includes("netflix.com/login")||t.includes("facebook.com/login.php")||t.includes("facebook.com/?stype=lo")||t.includes("accounts.google.com/servicelogin")||t.includes("accounts.google.com/addsession")||t.includes("amazon.com/ap/signin")?(bg.IntroTutorial.setState({firstLogin:!1}),o.do_tutorial=!0,o.iframe_size="dialog",lpshownotification("add",o)):(bg.IntroTutorial.setState({firstLogin:!1}),o.tutorialStatus.firstLogin&&t.includes("facebook")&&(o.do_interstitial=!0,o.iframe_size="full",lpshownotification("add",o),document.getElementsByClassName("_5lxs")[0].click(),setTimeout(function(){document.getElementsByClassName("_w0d")[0].submit()},2e3)),o.tutorialStatus.firstLogin&&(t.includes("https://www.netflix.com/logout")||t.includes("https://www.netflix.com/SignOut"))&&(document.location="https://www.netflix.com/Login")))}function t(o,e){return o.tutorialData&&document.URL.includes(o.tutorialData.domain)&&o.notificationdata.includes(o.tutorialData.domain)&&(e+="&hideoverlay=1","showaddnotification"===o.cmd&&(docURL=document.URL.toLowerCase(),docURL.includes("facebook.com/login")||docURL.includes("netflix.com/login")||docURL.includes("amazon.com/ap/signin")||docURL.includes("accounts.google.com/signin/challenge/sl/password")||docURL.includes("accounts.google.com/serviceloginauth")||docURL.includes("accounts.google.com/addsession#password")?(e+="&showtryagain=1",o.iframe_size="dialog"):(o.iframe_size="full",e+="&showadddialog=1"))),e}return{setIFramePosition:o,introTutorialHelpDialogConfig:e,showTryAgain:t}}(),IntroTutorialHelpDialog=function(){};!function(){"use strict";IntroTutorialHelpDialog.prototype._dialog=null,IntroTutorialHelpDialog.prototype._options={makeShade:!1,alignBottom:!1,addHide:!1,transparentBG:!1,textChoice:""},IntroTutorialHelpDialog.prototype.setBackgroundTransparent=function(o,e){o&&e&&(document.body.style.background="transparent")},IntroTutorialHelpDialog.prototype.getTranslateFn=function(){return"undefined"!=typeof bg&&"function"==typeof bg.gs?bg.gs:"function"==typeof gs?gs:null},IntroTutorialHelpDialog.prototype.setArrow=function(o,e){var t=IntroTutorialHelpDialog.prototype._dialog;if(o&&t&&e){switch(t.className+=" arrow_box",e.orientation){case"top":t.className+=" a-top";break;case"bottom":t.className+=" a-bottom";break;case"left":t.className+=" a-left";break;case"right":t.className+=" a-right"}switch(e.position){case"left":t.className+=" a-h-left";break;case"center":t.className+=" a-h-center";break;case"right":t.className+=" a-h-right";break;case"high":t.className+=" a-v-high";break;case"middle":t.className+=" a-v-middle";break;case"low":t.className+=" a-v-low"}}},IntroTutorialHelpDialog.prototype.createDialog=function(o,e){var t=IntroTutorialHelpDialog.prototype.getTranslateFn();if(o&&t){var i=o.createElement("div");i.className="tutorialDialog";var a=o.createElement("div");a.className="dialogTextDiv";var n=o.createElement("p");n.className="topText";var l=o.createElement("p");switch(l.className="bottomText",e){case"saveSite":n.innerHTML=t("Easy, right?"),l.innerHTML=t("Now just save it to your vault.");break;case"siteLanding":n.innerHTML=t("Good choice!"),l.innerHTML=t("Next, sign in to your account.");break;case"tryAgain":n.innerHTML=t("Login failed"),l.innerHTML=t("Please try again.");break;case"finishSaveSite":n.innerHTML=t("Customize and Save"),l.innerHTML=t("You can set these details for each site");break;case"downloadImporter":n.innerHTML=t("The LastPass Importer is downloading"),l.innerHTML=t("When it's done, just run it!"),setTimeout(function(){i.remove(o)},15e3);break;case"interstitial":n.innerHTML=t("Just a second..."),l.innerHTML=t("Logging you out"),i.style.margin="15px auto 0px auto"}return a.appendChild(n),a.appendChild(l),i.appendChild(a),i}return null},IntroTutorialHelpDialog.prototype.setAlignment=function(o){var e=IntroTutorialHelpDialog.prototype._dialog;e&&o&&(e.className+=" downloadDialog")},IntroTutorialHelpDialog.prototype.setFooter=function(o,e){var t=IntroTutorialHelpDialog.prototype.getTranslateFn(),i=IntroTutorialHelpDialog.prototype._dialog;if(o&&i){var a=o.createElement("div");a.className="footerDiv";var n=o.createElement("img");if(n.className="dialogLPLogo",n.src="images/vault_4.0/LastPass_Color_Small.png",a.appendChild(n),e){var l=o.createElement("div");l.className="hideDiv";var r=o.createElement("p");r.className="hideP",r.innerHTML=t("Hide"),l.addEventListener("click",function(){IntroTutorialHelpDialog.prototype.remove(o)}),l.appendChild(r),a.appendChild(l)}i.appendChild(a)}},IntroTutorialHelpDialog.prototype.setShade=function(o,e,t){if(o&&e){var i=o.createElement("div");i.className="interstitial"===t?"interstitialShade":"shade",o.body.appendChild(i)}},IntroTutorialHelpDialog.prototype.setPosition=function(o){try{var e=IntroTutorialHelpDialog.prototype._dialog;if(e&&o&&o.positionFn&&"function"==typeof o.positionFn){var t=o.positionFn();t&&t.top&&t.left&&(t.top+=o.offset&&o.offset.top?o.offset.top:0,t.left+=o.offset&&o.offset.left?o.offset.left:0,e.style.position="absolute",e.style.top=t.top+"px",e.style.left=t.left+"px")}}catch(o){console.log("Error in IntroTutorialHelpDialog.setPosition: "+o.message)}},IntroTutorialHelpDialog.prototype.subscribeToWindowResize=function(){window&&(window.addEventListener("resize",IntroTutorialHelpDialog.prototype.windowResizeHandler),"undefined"!=typeof Topics&&Topics.get(Topics.DIALOG_RESIZE).subscribe(function(o){IntroTutorialHelpDialog.prototype.windowResizeHandler()}))},IntroTutorialHelpDialog.prototype.unSubscribeToWindowResize=function(){window&&IntroTutorialHelpDialog.prototype.windowResizeHandler&&(window.removeEventListener?window.removeEventListener("resize",IntroTutorialHelpDialog.prototype.windowResizeHandler):window.detachEvent&&window.detachEvent("resize",IntroTutorialHelpDialog.prototype.windowResizeHandler),IntroTutorialHelpDialog.prototype.windowResizeHandler=null)},IntroTutorialHelpDialog.prototype.windowResizeHandler=function(o){IntroTutorialHelpDialog.prototype.setPosition(IntroTutorialHelpDialog.prototype._options.position)},IntroTutorialHelpDialog.prototype.initialize=function(o,e){try{IntroTutorialHelpDialog.prototype._options=e||IntroTutorialHelpDialog.prototype._options,IntroTutorialHelpDialog.prototype.setBackgroundTransparent(o,e.transparentBG),IntroTutorialHelpDialog.prototype._dialog=IntroTutorialHelpDialog.prototype.createDialog(o,e.textChoice),IntroTutorialHelpDialog.prototype.setFooter(o,e.addHide),IntroTutorialHelpDialog.prototype.setArrow(o,e.arrow),IntroTutorialHelpDialog.prototype.setAlignment(e.alignBottom),e.position?(IntroTutorialHelpDialog.prototype.setPosition(e.position),IntroTutorialHelpDialog.prototype.subscribeToWindowResize()):IntroTutorialHelpDialog.prototype.unSubscribeToWindowResize();var t=o.getElementById(e.appendElementId);t?t.appendChild(IntroTutorialHelpDialog.prototype._dialog):o.body.appendChild(IntroTutorialHelpDialog.prototype._dialog),IntroTutorialHelpDialog.prototype.setShade(o,e.makeShade,e.textChoice)}catch(o){console.log("Error in IntroTutorialHelpDialog.initialize: "+o.message)}},IntroTutorialHelpDialog.prototype.remove=function(o){IntroTutorialHelpDialog.prototype.unSubscribeToWindowResize(),o.getElementsByClassName("tutorialDialog")[0].remove(),o.getElementsByClassName("shade")[0]&&(o.getElementsByClassName("shade")[0].remove(),window.top.postMessage("minimizeIframe","*"))},IntroTutorialHelpDialog.prototype.close=function(o){document&&IntroTutorialHelpDialog.prototype.remove(document)}}();