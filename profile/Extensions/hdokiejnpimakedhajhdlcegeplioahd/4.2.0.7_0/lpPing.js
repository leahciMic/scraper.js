!function(i){"use strict";var t=function(t){return this.options=i.extend({$parentEl:null,$pingEl:null,id:"ping",pingClass:"ping-container",orientation:null,targetId:null,pingOffset:{top:0,left:0}},t),this.setup(),this};t.prototype.setup=function(){this.options.$parentEl&&(this.options.$pingEl=i("<div></div>").attr("id",this.options.id).addClass(this.options.pingClass).append(i("<div></div>").attr("id",this.options.id+"_ring1").addClass("ring")).append(i("<div></div>").attr("id",this.options.id+"_ring2").addClass("ring")).append(i("<div></div>").attr("id",this.options.id+"_dot").addClass("dot")),this.options.$parentEl.append(this.options.$pingEl))};var n=function(t){if(t&&"object"==typeof t&&t.length>0){var n=i.extend({height:t.height(),width:t.width()},t.offset());return n.center={top:Math.round(n.top+n.height/2),left:Math.round(n.left+n.width/2)},n}return null};t.prototype.subscribeToWindowResize=function(){var i=this;return i.positionAndResizeHandler=function(t){i.setPosition()},window&&window.addEventListener("resize",i.positionAndResizeHandler),Topics.get(Topics.VAULT_LEFT_MENU_TOGGLE).subscribe(i.positionAndResizeHandler),i},t.prototype.unSubscribeToWindowResize=function(){var i=this;return window&&(window.removeEventListener&&window.removeEventListener("resize",i.positionAndResizeHandler),i.positionAndResizeHandler=null),Topics.get(Topics.VAULT_LEFT_MENU_TOGGLE).unsubscribe(i.positionAndResizeHandler),i},t.prototype.setPosition=function(){if(this.options.$pingEl&&this.options.orientation&&this.options.targetId){this.options.$pingEl.css("top",""),this.options.$pingEl.css("bottom",""),this.options.$pingEl.css("left",""),this.options.$pingEl.css("right","");var t={top:0,left:0},o=n(i(this.options.targetId));switch(o&&(t.top=o.center.top+this.options.pingOffset.top,t.left=o.center.left+this.options.pingOffset.left),this.options.orientation){case"top":case"bottom":case"left":case"right":this.options.$pingEl.css("left",t.left+"px"),this.options.$pingEl.css("top",t.top+"px")}}},t.prototype.show=function(){return this.options.$pingEl&&(this.setPosition(),this.options.$pingEl.show()),this},t.prototype.hide=function(){return this.options.$pingEl&&this.options.$pingEl.hide(),this},t.prototype.activate=function(){return this.options.$pingEl&&(this.options.$pingEl.find("#"+this.options.id+"_ring1").addClass("ping"),this.options.$pingEl.find("#"+this.options.id+"_ring2").addClass("ping-2"),this.options.$pingEl.find("#"+this.options.id+"_dot").addClass("breathe")),this},t.prototype.deActivate=function(){return this.options.$pingEl&&(this.options.$pingEl.find("#"+this.options.id+"_ring1").removeClass("ping"),this.options.$pingEl.find("#"+this.options.id+"_ring2").removeClass("ping-2"),this.options.$pingEl.find("#"+this.options.id+"_dot").removeClass("breathe")),this},window.lpPing=t}(jQuery);