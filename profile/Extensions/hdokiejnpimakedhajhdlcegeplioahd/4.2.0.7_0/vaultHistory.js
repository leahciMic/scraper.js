LPServer.vault=LPServer.vault||{},LPServer.vault.history=function(){"use strict";var r=function(r,a){for(var e=[],s=0;s<r.length;s++){var t=r[s];e[s]={value:t[0],date:t[1],whom:t.length>2?t[2]:""}}a.success(e)},a=function(a){return function(e){if(!e||!e.params||!e.params.aid)throw new Error("Missing parameter values.");var s={aid:e.params.aid};e.params.shareId&&(s.sharedfolderid=e.params.shareId),LPServer.jsonRequest({url:a,data:s,success:r,userSupplied:e})}},e=a("getPasswordHist.php"),s=a("getUsernameHist.php"),t=a("getNoteHist.php");return{revertPasswordChange:function(r){if(!(r&&r.params&&r.params.key&&r.params.aid))throw new Error("Missing parameter values.");var a=function(a){if(a.length>0){var e=a[a.length-1].value,s=dec(e,r.params.key);changePassword(s,[r.params.aid],!1,r.success,r.error)}};e({params:{aid:r.params.aid,shareId:r.params.shareId},success:a,error:r.error})},getPasswordHistory:e,getUsernameHistory:s,getNoteHistory:t}}();