var TryFamiliesDialog=function(i){Dialog.call(this,i,{additionalHeaderClasses:[],dynamicHeight:!0,buttonsInsideContent:!0,closeButtonEnabled:!0,title:Strings.translateString("A modern safe for today's digital family")})};TryFamiliesDialog.prototype=Object.create(Dialog.prototype),TryFamiliesDialog.prototype.constructor=TryFamiliesDialog,TryFamiliesDialog.prototype.initialize=function(i){var e=this;Topics.get(Topics.REFRESH_DATA).subscribe(function(){LPProxy.isFamilyUser()&&(e.close(),LPPlatform.openTour())}),Dialog.prototype.initialize.apply(this,arguments),function(e){i.find("#try-families-spinner").hide(),i.find(".dialogCloseButton").bind("click",function(){localStorage.setItem("lp_families_dialog_snooze_timestamp",Date.now()+864e5);var i=localStorage.getItem("lp_families_dialog_snooze_count");i=i?parseInt(i)+1:1,localStorage.setItem("lp_families_dialog_snooze_count",i),bg.sendLpImprove("try_families_lightbox_click",{action:"close"}),e.close()}),i.find("#families-try-no-thanks").bind("click",function(){localStorage.setItem("lp_try_families_dialog_declined",Date.now()),bg.sendLpImprove("try_families_lightbox_click",{action:"no_thanks"}),e.close()}),i.find("#families-try-now").bind("click",function(){bg.sendLpImprove("try_families_lightbox_click",{action:"try_now"}),TryFamiliesDialog.prototype.startTrial()})}(this)},TryFamiliesDialog.prototype.startTrial=function(){LPRequest.makeRequest(LPProxy.familiesExistingUserTrial,{params:{device:"desktop"}})},TryFamiliesDialog.prototype.showInProcessOverlay=function(){$("#try-families-spinner").show(),$("#try-families-text").hide(),$("#try-families-icon").hide(),$("#families-try-now").prop("disabled",!0),$("#families-try-close").prop("disabled",!0)},TryFamiliesDialog.prototype.hideInProcessOverlay=function(){$("#try-families-spinner").hide(),$("#try-families-text").show(),$("#try-families-icon").show(),$("#families-try-now").prop("disabled",!1),$("#families-try-close").prop("disabled",!1)},TryFamiliesDialog.prototype.postSetup=function(i){Dialog.prototype.postSetup.apply(this,arguments),i=i||{},i.forceAccepted&&TryFamiliesDialog.prototype.startTrial()};