function CPWbot_cs_lib(){var e=this;this.JSON=JSON,JSON||(this.JSON=LPJSON),LPJSON;this.alert=alert;this.fill_field=function(e,t){if(e||(e=LP_derive_doc()),!t||!e)return!1;var i=0,n=this.getElementByType(e,t);if(n){if(info_log(e,"CA23",{param1:t.id_type,param2:t.id_value,param3:t.should_click,param4:t.should_fill_via_keys}),n.focus(),t.should_click){var a=t.flavor;CPWbot_cs.do_click(e,n,a),"function"==typeof sendKey&&sendKey("Z",n),fire_onchange(n,!0,!0)}t.should_fill_via_keys&&g_isfirefox?fill_field_via_keys(n,t.field_value):n.value=t.field_value,fire_onchange(n),i=1}else info_log(e,"CA24",{param1:t.id_type,param2:t.id_value});return sendBG({cmd:"cpwbot_fill_ack",url:get_doc_location_href(e),docstate:e.readyState,req_id:t.req_id,id_type:t.id_type,id_value:t.id_value,found:i?1:0,should_click:t.should_click,should_fill_via_keys:t.should_fill_via_keys},e),!0},this.click_field=function(t,i){if(t||(t=LP_derive_doc()),!i||!t)return!1;var n=e.CLICK_NOMINAL,a=e.CLICK_NO_FOCUS,r=e.CLICK_MOUSEDOWN,s=e.CLICK_STRANGE,l=this.getElementByType(t,i),o=0,_=n;if(i.flavor){var d=[n,a,r,s];lp_in_array(i.flavor,d)?_=i.flavor:info_log(t,"CA3")}return l?(info_log(t,"CA4",{param1:getmydocnum(t),param2:i.pwchangestate,param3:i.id_type,param4:i.id_value}),this.do_click(t,l,_),o=1):(info_log(t,"CA5",{param1:getmydocnum(t),param2:i.pwchangestate,param3:i.id_type,param4:i.id_value}),g_isdebug),sendBG({cmd:"cpwbot_click_ack",url:get_doc_location_href(t),docstate:t.readyState,pwchangestate:i.pwchangestate,msgid:i.msgid,id_type:i.id_type,id_value:i.id_value,found:o?1:0,flavor:_},t),!0},this.execute_script=function(e,t){if(e||(e=LP_derive_doc()),!t||!e||!Math)return!1;if(!g_isfirefox||!e||e.defaultView){var i=t.js,n=t.hash,a=null;if(i){var r,s=i;if(r="function"==typeof fasthash?fasthash:"function"==typeof crc32?crc32:"function(j) { if (j) { return j.length; } return 0; }",info_log(e,"CA6",{param1:n,param2:r(s)}),n!=r(s))return info_log(e,"CA7"),!1;var l=Math.floor(Math.random()*Math.pow(2,31)),o="__lpresult"+l;info_log(e,"CA8",{param1:getmydocnum(e),param2:i}),i=null===e.body?"try{"+i+"}catch(e) { }":"try {"+sprintf("var _res = document.getElementById('%s');  if (!_res) { _res = document.createElement('div');  _res.id='%s'; _res.style.display='none'; _res.style.left='-1000px'; document.body.appendChild(_res); } { ",o,o)+i+"} if (_res) { if (typeof(_res.innerText) != 'undefined') { _res.innerText = document._g_result; } else { _res.textContent = document._g_result; } document._g_result = null; }} catch(e) { }",run_custom_js(e,i);var _=e.getElementById(o);_&&(a=LP_elt_get_text(_),void 0===a&&(a=null),_.parentElement.removeChild(_)),i=null}return sendBG({cmd:"cpwbot_js_ack",url:get_doc_location_href(e),docstate:e.readyState,req_id:t.req_id,result:CPWbot_cs.JSON.stringify(a)},e),!0}},this.getElementByType=function(e,t){if(e||(e=LP_derive_doc()),!t||!e)return null;if(g_isfirefox&&e&&!e.defaultView)return null;var i=null,n=null,a=t.id_type,r=t.id_value,s=666;if(a&&r)switch(a){case"id":i=e.getElementById(r);break;case"name":n=e.getElementsByName(r),n&&n.length>0&&(i=n[0]);break;case"xpath":g_isie&&"undefined"!=typeof init_LPfn&&init_LPfn()&&LPfn&&(s=LPfn.getDocumentMode(e)),s<8?alert("old IE - does not bundle in XPATH support. TODO "):i=LP_getElementByXPath(e,r)}return i},this.getElementsByType=function(e,t){if(e||(e=LP_derive_doc()),!t||!e)return null;var i=null,n=[],a=t.id_type,r=t.id_value,s=666;if(a&&r)switch(a){case"id":i=e.getElementById(r),i&&n.push(i);break;case"name":n=e.getElementsByName(r);break;case"xpath":g_isie&&"undefined"!=typeof init_LPfn&&init_LPfn()&&LPfn&&(s=LPfn.getDocumentMode(e)),s<8?this.alert("old IE - does not bundle in XPATH support. TODO "):n=LP_getElementsByXPath(e,r)}return n},this.field_is_displayed=function(e,t){return e||(e=LP_derive_doc()),!(!t||!e)&&!!lpIsVisible(t)},this.CLICK_NOMINAL=0,this.CLICK_NO_FOCUS=1,this.CLICK_MOUSEDOWN=2,this.CLICK_STRANGE=3,this.do_click=function(t,i,n){if(t||(t=LP_derive_doc()),!i||!t)return!1;var a=null;"undefined"!=typeof window&&(a=window),a||(a=t.defaultView),g_isfirefoxsdk&&a&&a.wrappedJSObject&&(a=a.wrappedJSObject);var r=e.CLICK_NOMINAL,s=e.CLICK_NO_FOCUS,l=e.CLICK_MOUSEDOWN,o=e.CLICK_STRANGE;switch(void 0!==n&&n||(n=r),void 0!==i.disabled&&i.disabled&&(i.disabled=!1),n!==s&&i.focus(),n){case o:break;case l:var _=LP_getAbsolutePos(t,i);if(_&&i){var d=i,c=document.createEvent("MouseEvent");c.target=d,c.initMouseEvent("mouseenter",!0,!1,a,0,_.left,_.top,_.left,_.top,!1,!1,!1,!1,0,a.document.documentElement),d.dispatchEvent(c);var c=document.createEvent("MouseEvent");c.target=d,c.initMouseEvent("mousemove",!0,!1,a,0,_.left+2,_.top+2,_.left+2,_.top+2,!1,!1,!1,!1,0,null),d.dispatchEvent(c);var c=document.createEvent("MouseEvent");c.target=d,c.initMouseEvent("mousedown",!0,!1,a,0,_.left+2,_.top+2,_.left+2,_.top+2,!1,!1,!1,!1,0,null),d.dispatchEvent(c);var c=document.createEvent("MouseEvent");c.target=d,c.initMouseEvent("mouseup",!0,!1,a,0,_.left+2,_.top+2,_.left+2,_.top+2,!1,!1,!1,!1,0,null),d.dispatchEvent(c);var c=document.createEvent("MouseEvent");c.target=d,c.initMouseEvent("click",!0,!1,a,0,_.left+2,_.top+2,_.left+2,_.top+2,!1,!1,!1,!1,0,null),d.dispatchEvent(c)}break;case r:case s:default:!function(e,t,i,n){!!(e&&t&&i&&n)&&(g_isfirefox?fireEvent(e,t,i,n):LP_fireEvent(t,i,n))}(t,i,"click","MouseEvents")}return!0},this.decode_fields_metainfo=function(e){var t="";return e&&(t=this.JSON.parse(e)),t},this.validate_page_fields=function(t,i,n,a,r,s,l,o){if(!t)return null;var _,d=!0,c={};info_log(t,"CA9",{param1:getmydocnum(t),param2:i}),n||(n=[]),a||(a=[]),o||(o=[]);var u,m=!1,p=0,f=0,g=0,y=0,v=n,h=a,b=o;if(s){u=new RegExp(s,"i");var E=punycode.URLToASCII(t.location.href);if(u.exec(E))return c.num_ok_matches=null,c.num_okfields=null,c.found_bad_match=null,c.num_badfields=null,c.url_success_match=!0,c.url_failure_match=!1,c.do_retry=!1,c.retval=!0,c.found_interactive=!1,info_log(t,"CA10",{param1:getmydocnum(t),param2:s}),g_isdebug&&(set_innertext(c,LP_elt_get_text(t.body)),c.innerhtml=t.body.innerHTML),c}if(l){u=new RegExp(l,"i");var E=punycode.URLToASCII(t.location.href);if(u.exec(E))return c.num_ok_matches=null,c.num_okfields=null,c.found_bad_match=null,c.num_badfields=null,c.url_failure_match=!0,c.url_success_match=!1,c.do_retry=!1,c.retval=!1,c.found_interactive=!1,info_log(t,"CA11",{param1:getmydocnum(t),param2:l}),g_isdebug&&(set_innertext(c,LP_elt_get_text(t.body)),c.innerhtml=t.body.innerHTML),c}for(_=0;_<v.length;_++){var A=v[_].id_type,C=v[_].id_value,S=e.getElementByType(t,{id_type:A,id_value:C});if(!S){info_log(t,"CA12",{param1:getmydocnum(t),param2:A,param3:C});break}p++,f++}if(f<v.length&&(m=!0,d=null),d)for(_=0;_<h.length;_++){var A=h[_].id_type,C=h[_].id_value,S=this.getElementByType(t,{id_type:A,id_value:C});if(S){p++,g=1,info_log(t,"CA13",{param1:getmydocnum(t),param2:C}),d=!1,m=!1;break}m=!0}for(_=0;_<b.length;_++){var A=b[_].id_type,C=b[_].id_value,S=this.getElementByType(t,{id_type:A,id_value:C});if(S){p++,y=1,info_log(t,"CA14",{param1:getmydocnum(t),param2:C}),m=!1;break}}return 0===p&&(v.length>0||h.length>0)&&(d=null),c&&(c.num_ok_matches=f,c.num_okfields=v.length,c.found_bad_match=g,c.num_badfields=h.length,c.do_retry=m,c.retval=d,c.url_success_match=!1,c.url_failure_match=!1,c.found_interactive=y,g_isdebug&&(set_innertext(c,LP_elt_get_text(t.body)),c.innerhtml=t.body.innerHTML)),c},this.interrogate=function(e,t,i){if(t&&!(i>10)){var n=t.desc,a=(t.required_fields,t.rejected_fields,t.proceed_on_interactive);void 0===i&&(i=1);t.interactive_fields;if(!function(e){return a?"complete"==e||"interactive"==e:"complete"==e}(e.readyState))return info_log(e,"CA15",{param1:getmydocnum(e),param2:n,param3:500,param4:e.readyState}),void setTimeout(function(){CPWbot_cs.interrogate(e,t,i+1)},500);g_cpwbot&&CPWbot_cs&&CPWbot_cs.interrogate_validate(e,t)}},this.interrogate_validate=function(e,t,i){if(!t||i>10)return!1;void 0!==i&&null!==i||(i=1);var n=t.desc,a=t.required_fields,r=t.rejected_fields,s=t.required_url,l=t.rejected_url,o=t.interactive_fields,_=t.id,d=t.validate_timeout,c=t.timestamp,u=(new Date).getTime(),m=(u-c)/1e3;if(void 0!==d&&null!==d||(d=0),d>0&&i>=d/2e3)return info_log(e,"CA16",{param1:getmydocnum(e),param2:d,param3:1e3,param4:i,param5:m}),!1;info_log(e,"CA17",{param1:getmydocnum(e),param2:d,param3:1e3,param4:i,param5:m});var p=CPWbot_cs.decode_fields_metainfo(a),f=CPWbot_cs.decode_fields_metainfo(r),g=CPWbot_cs.decode_fields_metainfo(o);if(0===p.length&&0===f.length&&!l&&!s)return g.length,info_log(e,"CA18",{param1:getmydocnum(e)}),v=!0,sendBG({cmd:"cpwbot_validate_state_result",state:"STATE"+i,url:get_doc_location_href(e),docstate:e.readyState,desc:n,id:_,required_fields:a,rejected_fields:r,required_url:s,rejected_url:l,result_obj:CPWbot_cs.JSON.stringify(y),result:CPWbot_cs.JSON.stringify(v)},e),!0;var y=CPWbot_cs.validate_page_fields(e,n,p,f,d,s,l,g);if(null===y)return null;var v=y.retval;return y.do_retry&&null===v?(p.length,info_log(e,"CA19",{param1:getmydocnum(e),param2:i,param3:m,param4:n,param5:1}),setTimeout(function(){var o=CPWbot_cs.interrogate_validate(e,t,i+1);o||(o=0===p.length&&f.length>0||p.length>0&&f.length>0&&y.num_ok_matches>0,sendBG({cmd:"cpwbot_validate_state_result",state:"STATE_TIMEDOUT",url:get_doc_location_href(e),docstate:e.readyState,desc:n,id:_,required_fields:a,rejected_fields:r,required_url:s,rejected_url:l,result_obj:CPWbot_cs.JSON.stringify(y),result:CPWbot_cs.JSON.stringify(o)},e))},1e3),!0):(null===v&&(info_log(e,"CA20",{param1:getmydocnum(e)}),v=!1),sendBG({cmd:"cpwbot_validate_state_result",state:"STATE"+i,url:get_doc_location_href(e),docstate:e.readyState,desc:n,id:_,required_fields:a,rejected_fields:r,required_url:s,rejected_url:l,result_obj:CPWbot_cs.JSON.stringify(y),result:CPWbot_cs.JSON.stringify(v)},e),!0)};return this.do_result_div=function(e,t){if(!e)return!1;if(!g_isdebug)return!1;g_isdebug&&check_for_selenium_bits(e);var i=e.getElementById("__lpresultdiv");return!i&&e.body&&(i=e.createElement("div"))&&(i.id="__lpresultdiv",i.style.left="-999px",i.style.position="absolute",e.body.appendChild(i)),LP_elt_set_text(i,t)},this.hide_result_div=function(e){if(!e)return!1;var t=e.getElementById("__lpresultdiv");return t&&t.parentElement.removeChild(t),!0},!0}function display_cpw_message_loop(e,t,i){if(e){if(null===t){if(null===e.getElementById("cpwmsg"))return;g_ischrome?chrome_runtime_sendMessage({cmd:"getcpwmsg"},function(t){t&&t.msg&&display_cpw_message(e,t.msg),1===t.minimize_state&&minimize_cpw_dialog(e)}):"undefined"!=typeof safari?(safari.self.removeEventListener("message",handleMessage,!1),safari.self.addEventListener("message",handleMessage,!1),safari.self.tab.dispatchMessage("getcpwmsg",{})):"undefined"!=typeof g_isfirefoxsdk&&g_isfirefoxsdk&&send_message({messagetype:"getcpwmsg"})}else display_cpw_message(e,t,i);g_isdebug&&check_for_selenium_bits(e),setTimeout(function(){display_cpw_message_loop(e,null,null)},51)}}function update_msgdiv_css(e,t,i,n,a){if(!e)return!1;var r="position:absolute !important; visibility:visible !important;  border-style:transparent!important; border-width:1px !important; border-color:#4c4c4c !important; font-size:14px; font-family: Arial,Helvetica,sans-serif; height: "+t+" !important ; width: "+i+" !important; top:"+a+" !important; left:"+n+" !important; background-color: #e6e6e6; margin: 4px !important; border-radius: 4px; padding: 1px !important; overflow:auto;",s=e.getElementById("cpwmsg");return!!s&&(s.style.cssText=r,!0)}function display_cpw_message(e,t,i){if(e){var n=e.getElementById("cpwmsg");if(n)pass;else{var a=e.createElement("div");a.style.width="100%",a.style.height=window.innerHeight+"px",a.style.opacity="0.7",a.style.backgroundColor="#666666",a.id="cpwbg",a.style.position="absolute",a.style.top="0px",a.style.left="0px",e.body.appendChild(a);var r,n=e.createElement("div");if(n){n.id="cpwmsg",e.body.appendChild(n);update_msgdiv_css(e,OVERLAY_MESSAGE_HEIGHT,OVERLAY_MESSAGE_WIDTH,OVERLAY_MESSAGE_TOP,OVERLAY_MESSAGE_LEFT),n.setAttribute("role","status");var s=e.createElement("div");LP_set_style_attr(s,"height: 20px !important; padding: 2px 0px 0px 20px; background-color: #ffffff !important; background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpGQjdGMTE3NDA3MjA2ODExQkVEQ0Y4NkVBMzlCNDIwRCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpGRjA2MTdBMTU2REYxMURGQUNGOUQ1RDAwQTc4OEQzOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpGRjA2MTdBMDU2REYxMURGQUNGOUQ1RDAwQTc4OEQzOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjA3ODAxMTc0MDcyMDY4MTFBQjA4RDY4QTAyQUEzMTc1IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkZCN0YxMTc0MDcyMDY4MTFCRURDRjg2RUEzOUI0MjBEIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+1Gef5AAAA69JREFUeNpUVF1oXEUU/mbm7t67m82mdtsGUgXbB6tWC1WhoKh5UST0RapQ2kLJgxVSqsEfBCNaH8yLLyr1IbHFoLYPVmkfCv7giz+tVlRsrQRkC01MzDZm02Zzd+//Hb+ZpKiznJ17z8z55nzfOXeEXlJi5sv7X758pGcommtVlcohhBYS2swQnFeGQG7eNGcttJkDv+Pn/VPvPzy68JpofLHjwIWDG8aieh2KgQZA0aTO7TMR7dB6xXKhkK2CQks0uRbsmXnF+euztbuD+hSU5DLXDIjKQm7L4DgFOCaa/jzXSAhu0IQqI+ExGfeuzRXOnqnslVknVFrYpO2SQgxvcx9u+/Bt9L7+DHTWhJcuYv3uAWw5MwHv3q3MMsGNvDRNCu04BkSbk4xDp5AesOWT91Dbfjci34c/dgzu7J/oGxlG5c7b0fPQDpzd1g99pQEpS0iplZSaJCksLOOc9HIUgmtYePcoDLRbqaB3+GmU9+9BF0HMaEycQD71BxwpLH2sZCScVCcis2F0Zi0UECE+9g6aj/Wj9sTjqD01iCxObO1aF3/D/HMvoFu3mQmQosfAICUrJ80zBNSl4Eps3DeILreAov834slJxMlOyFIZqsQgiuxfuIja3l1Q1Q2Iix7qx0+h3WgSiBlpaGbEn+di3ciz8G7ZiDxJoaMYrcVF/HcUdg5gzZO7KDZLwwR+/+prxI0Gs9VwjNQMQ0Z2c1PTEMstwACFIbRS/wMSaQrhuuwRxRaQSEh5RSXAySxXiagTYOb5w3C5VOksoPTAg5CHhqgbt9oGI+inpxAf/wh+uYZ2wUN7epa7C6QdEYhli6l/aE77+ScDCe24KIwOAKSLuQbAQ8SmW4FHH8HS+ATS+nmq2sUolp9ACbmxnykHqZlejkQJgSjCfelFePdth1cuI/zgBPzRN1EseXBv7kPljcO4XlyDUHiI+blEpLUCxL/QfC80n5Vped3AXXegq1qFnp3D9MnTmP/uW8Q//oJKrcau34Sldb24pjN0GGNiY200yqWIzUdpO0khDRJ8v38Imwf3IWk2Mb98HRX6L781jtlfL2HyyDiiVpsSuLarU5MRs3HiJEn/BTLCKzpZ2rExew94qFr/4rnz8M99Y3URBDG6pqsVC/kg12+98nGHrwkXjBmtAgIk6KaXmvHsZVobRYZUrbhmT7x68FXuuume8HMRXIUcH668+sPJ0kE3Q7e5foS9l+ztYQ2rGd8wXmx27mgdO9uC0yNH24f+EWAAmnbJJ+zxvWgAAAAASUVORK5CYII=); background-repeat:no-repeat; background-position: left top;background-attachment: scroll;"),s.style.fontWeight="bold",s.id="cpwtitle",s.addEventListener("click",function(){return toggle_cpw_dialog(e),!1},!1);var r=e.createElement("div");r.id="msgbody",r.style.fontSize="18px",r.style.padding="4px";var l=e.createElement("div");l.style.padding="4px";var o=e.createElement("span"),_=e.createElement("span");_.style.display="inline-block",_.style.marginLeft="3px",_.style.marginRight="3px";var d=e.createElement("span");i?g_isfirefox?(d.textContent=i,_.textContent="|"):(set_innertext(d,i),set_innertext(_,"|")):(_.style.display="none",d.style.display="none");var c=gs("LastPass Automatic Password Change");LP_elt_set_text(o,c),s.appendChild(o),s.appendChild(_),s.appendChild(d),n.appendChild(s),l.style.marginTop="5px",l.style.marginBottom="5px",l.style.fontSize="12px",l.style.fontStyle="italic";var u=gs("Please do not close this window, while LastPass changes your password.");LP_elt_set_text(l,u),n.appendChild(l),n.appendChild(r)}}r||(r=e.getElementById("msgbody")),r&&LP_elt_set_text(r,t)}}function cpw_hide_overlay(e,t){if(!e)return!1;if(g_isfirefox);else{var i=e.getElementById("lpiframeoverlaycpwmsg");i&&i.parentNode.removeChild(i)}return!0}function toggle_cpw_dialog(e){if(!e)return!1;var t=e.getElementById("msgbody");return!(!e.getElementById("cpwmsg")||!t)&&("none"==t.style.display?(maximize_cpw_dialog(e),maximize_cpw_bg()):(minimize_cpw_dialog(e),minimize_cpw_bg()),!0)}function maximize_cpw_dialog(e){if(!e)return!1;var t=OVERLAY_MESSAGE_TOP,i=OVERLAY_MESSAGE_LEFT,n=OVERLAY_MESSAGE_WIDTH,a=OVERLAY_MESSAGE_HEIGHT,r=e.getElementById("msgbody");return!(!e.getElementById("cpwmsg")||!r||("block"!=r.style.display&&(update_msgdiv_css(e,a,n,t,i),r.style.display="block"),0))}function minimize_cpw_dialog(e){if(!e)return!1;var t=OVERLAY_MESSAGE_TOP,i=OVERLAY_MESSAGE_LEFT,n=OVERLAY_MESSAGE_WIDTH,a=OVERLAY_MESSAGE_HEIGHT,r=e.getElementById("msgbody");return!(!e.getElementById("cpwmsg")||!r||("none"!=r.style.display&&(a=OVERLAY_MESSAGE_HEIGHT_MINIMIZED,update_msgdiv_css(e,a,n,t,i),r.style.display="none"),0))}function do_cpw_overlay_handler(e,t){if(CPWbot_cs&&CPWbot_cs.JSON&&e&&e.msg){var i=CPWbot_cs.JSON.parse(e.msg);if(i){var n=encodeURIComponent(i.symbolic);if(g_isfirefox)lpShowOverlay(t,0,i.msg),lpSetOverlayStatus(t,""),lpisadmin&&do_cpw_debug(t);else{var a=encodeURIComponent(i.msg);info_log(t,"CA21",{param1:a}),showoverlay(e,"&cpwbot="+a+"&symbolic="+n)}}else info_log(t,"CA22")}}function ping_req_handler(e,t){var i=(new Date).getTime(),n=0;void 0!==t.timestamp&&t.timestamp&&(n=i-t.timestamp);var a="";try{a=punycode.URLToASCII(e.location.href)}catch(e){}sendBG({cmd:"ping_ack",timestamp:i,delta:n,id:t.id,url:a,docstate:get_docstate(e),flags:assemble_docflags_object(e)},e)}function get_docstate(e){return e?void 0!==e.readyState&&e.readyState?e.readyState:"undef":null}function assemble_docflags_object(e){if(!e||!e.location)return null;var t=e.location.origin?e.location.origin:null;return{is_special_site:g_is_specialsite,in_cpwbot:g_in_cpwbot,tutorial_flags:g_tutorial_flags,need_dynamic_delay:g_need_dynamic_delay,has_frameset:e.getElementsByTagName("FRAMESET").length>0,domain:e.domain,origin:t}}function run_custom_js(e,t,i){function n(e,t){var i=null;return e||(e=LP_derive_doc()),e&&t?(e.script_stash?void 0===(i=e.script_stash[t])&&(i=null):e.script_stash={},i):null}function a(e,t,i){return e||(e=LP_derive_doc()),!!e&&(e.script_stash||(e.script_stash={}),!(!i||!t)&&(e.script_stash[t]=i,!0))}function r(e,t){if(!t||!e)return!1;var i=null;if(e.script_stash){var i=e.script_stash[t];i&&i.parentNode&&(verbose_log("cleanup: "+t),i.parentNode.removeChild(i)),delete e.script_stash[t]}return!0}function s(e,t){if(e||(e=LP_derive_doc()),!e)return"";var i="";if(t&&"string"==typeof t){i="_lastpass_"+t;n(e,i);if(r(e,i),"3"===t)for(var a=1;a<3;a++){var s="_lastpass_"+a.toString();n(e,s),r(e,s)}}return null,i}if(e){"undefined"!=typeof g_iscasper&&g_iscasper&&(this.stash_script=a,this.get_script=n,this.delete_script=r,this.prep_and_delete_priors=s);var l=s(e,i);try{if(""!=t){if(!e.g_content_check_result||is_page_JSON(e))return void(e.g_content_check_result=!1);var o=lp_gettld_url(e.location.href);if(("facebook.com"==o||"live.com"==o||"outlook.com"==o)&&0==e.getElementsByTagName("form").length)return;t=t.replace(/lpcurrpage./g,""),t="try{"+t+"}catch(e){}";var _=e.createElement("script"),d=e.createTextNode(t);_.appendChild(d),e.body&&e.body.appendChild(_),a(e,l,_)}}catch(e){}}}function do_result_div_handler(e,t){return g_isdebug&&CPWbot_cs&&CPWbot_cs.do_result_div(e,t.msg),!0}function hide_result_div_handler(e,t){return g_isdebug&&CPWbot_cs&&CPWbot_cs.hide_result_div(e),!0}function need_dynamic_delay(e){if(!e)return!1;var t=LP_elt_get_text(e.head);return LP_elt_get_text(e.body).indexOf("\x3c!-- ko")>=0||t.indexOf("require")>=0||t.indexOf("lazyload")>=0}function minimize_cpw_bg(){g_ischrome?chrome_runtime_sendMessage({cmd:"minimize_cpw_dialog"},function(e){pass}):"undefined"!=typeof safari?safari.self.tab.dispatchMessage("minimize_cpw_dialog",{}):"undefined"!=typeof g_isfirefoxsdk&&g_isfirefoxsdk&&send_message({messagetype:"minimize_cpw_dialog"})}function maximize_cpw_bg(){g_ischrome?chrome_runtime_sendMessage({cmd:"maximize_cpw_dialog"},function(e){pass}):"undefined"!=typeof safari?safari.self.tab.dispatchMessage("maximize_cpw_dialog",{}):"undefined"!=typeof g_isfirefoxsdk&&g_isfirefoxsdk&&send_message({messagetype:"maximize_cpw_dialog"})}function get_doc_location_href(e){try{return e.location?e.location.href:""}catch(e){return""}}function getmydocnum(e){if(g_isfirefox){if(e||(e=LP_derive_doc()),!e)return 0;if(void 0!==e.g_docnum)return e.g_docnum;var t=lpGetBrowserForDocument(e),i=get_tabid_from_browser(t);if(null==i)return console_error("did not found matching tab for given tabid, bail"),0;ff_setdocnum_conditional(e,i);g_CS_tops[i];return t.contentDocument==e&&(g_CS_tops[i]=e.g_docnum),e.g_docnum}return g_docnum}function check_for_selenium_bits(e){if(!e)return-1;if(!g_isdebug)return-1;var t=-1,i=e.getElementById(LPSELENIUMBITSDIV);if(i){var n=parseInt(LP_elt_get_text(i));isNaN(n)||(t=n,g_selenium_bits=t),g_is_selenium=!0,sendBG({cmd:"from_selenium",bits:t,url:get_doc_location_href(e),docstate:e.readyState})}else-1!=g_selenium_bits&&(t=g_selenium_bits);return t}var CPWbot_cs;CPWbot_cs||(CPWbot_cs=new CPWbot_cs_lib);var OVERLAY_MESSAGE_WIDTH="500px",OVERLAY_MESSAGE_HEIGHT="200px",OVERLAY_MESSAGE_HEIGHT_MINIMIZED="70px",OVERLAY_MESSAGE_TOP="50px",OVERLAY_MESSAGE_LEFT="50px",g_is_selenium=!1,g_selenium_bits=-1,LPSELENIUMBITSDIV="__lpseleniumbitsdiv";