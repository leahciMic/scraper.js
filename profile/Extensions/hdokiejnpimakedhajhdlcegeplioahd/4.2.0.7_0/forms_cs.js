function doc_get_form_equivalents(e){function n(e,r,o){if(!e)return[];var i,l,a=e.ownerDocument;o||(o=0);var s=[],_=[],f=[],m=e.children;if(!m||0==m.length)return[];for(i=0;i<m.length;i++)if(lp_in_array(m[i].tagName.toUpperCase(),["DIV","SECTION","HEADER"])&&lpIsVisible(m[i],!0)){var u=n(m[i],r,o+1);for(l=0;l<u.length;l++)_.push(u[l]);verbose_log(t("child div %s has %d forms ",LP_getname(m[i]),u.length))}else"FORM"==m[i].tagName.toUpperCase()?!is_search_form(a,m[i])&&popupfill_shoulddoform(a,m[i])&&_.push(m[i]):"INPUT"==m[i].tagName.toUpperCase()&&popupfill_shoulddofield(a,m[i])&&(verbose_log(t("child input %s found in %s",LP_getname(m[i]),LP_getname(e))),f.push(m[i]));return("DIV"==e.tagName||"FORM"==e.tagName)&&f.length>0?popupfill_shoulddoform(a,e)?(s.push(e),verbose_log(t("FOUND %d child forms and found inputs in this div %s, treating all together as one",_.length,LP_getname(e)))):verbose_log(t("FOUND child forms in this div %s but intentionally skipping it",0,LP_getname(e))):(s=_,verbose_log(t("FOUND %d child forms in this div %s",s.length,LP_getname(e)))),s}if(e||(e=LP_derive_doc()),!e)return[];if(!e.body)return[];var t=sprintf;g_isie&&init_LPfn()&&LPfn&&(t=LPfn.sprintf);var r,o,i=new RegExp("container|form|box|wrapper|youama-login-window|youama-register-window","i"),l=!1,a=[],s=0,_=e.body.children,f=_.length;if(Checkpoint.assert(f<100,"document too complex, "+get_doc_location_href(e)),f>100&&(f=100),LP_has_youama(e)){var m=LP_get_youama_fields(e);if(m.login_form_container&&m.regis_form_container)return[m.login_form_container,m.regis_form_container]}for(r=0;r<f;r++){var u=_[r].tagName.toUpperCase();if(lp_in_array(u,["DIV","FORM","SECTION","HEADER"])){if(elt_is_formlike_container(_[r])){var g=n(_[r],i);for(s+=g.length,o=0;o<g.length;o++)a.push(g[o])}}else"INPUT"==u&&(l=!0)}return l&&0==a.length&&a.push(e.body),verbose_log(t("Found %d form equivalents on this page",s)),a}function elt_is_formlike_container(e,n){if(!e)return!1;var t,r=e.ownerDocument,o=LP_createXPathFromElement(r,e);if(o||(o=LP_pickFormName(r,e)),!lpIsVisible(e,!0))return!1;if(e.children.length<=0)return!1;var i=e.getElementsByTagName("input"),l=[];if(i){if(i.length<=0)return!1;var a=i.length;for(Checkpoint.assert(a<MAX_INPUTS_SOFT,"formlike container "+LP_getname(e)+" is too complex"),a>MAX_INPUTS_SOFT&&(a=MAX_INPUTS_SOFT),t=0;t<a;t++)if(popupfill_shoulddofield(r,i[t])){l.push(i[t]);break}}if(l.length<=0)return!1;return l.length>0&&(verbose_log("detected mammaliaforme "+LP_getname(e)),!0)}function LP_pickFormName(e,n){var t="none";if(null!=n&&(null==(t=LP_getname(n,LP_GETNAME_FAVOR_ID_OVER_NAME))||t.length<=0)){if(null!=n.action&&"string"==typeof n.action&&n.action.length>=0||null!=n.className&&n.className.length>=0){var r=n.action;"string"!=typeof r&&(r=n.getAttribute("action")),t="FF"+r+n.className}else t="none";if("FF"==t||"none"==t){var o=n.getAttribute("lpformnum");o||(o=g_lp_form_num++,n.setAttribute("lpformnum",o)),t+="lpformnum"+o}}return t}function LP_getFormEquivalent(e,n){return n?(e||(e=n.ownerDocument),e&&n.form?n.form:null):null}var g_lp_form_num=1;