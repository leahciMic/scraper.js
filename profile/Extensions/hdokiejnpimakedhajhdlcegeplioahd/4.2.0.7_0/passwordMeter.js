!function(t){var e=function(t,e,a){var r=0;if(""===e&&""===t)return 0;var n=t.toLowerCase(),s=e.toLowerCase();if(n===s||s&&-1!==n.indexOf(s)||s&&-1!==s.indexOf(n))return 1;if(r+=t.length,t.length>0&&t.length<=7)return 1;t.length>=8&&t.length<=15?r+=12:t.length>=16&&(r+=18),t.match(/[a-z]/)&&(r+=1),t.match(/[A-Z]/)&&(r+=5),t.match(/\d/)&&(r+=5),t.match(/.*\d.*\d.*\d/)&&(r+=5),t.match(/[!,@,#,$,%,^,&,*,?,_,~]/)&&(r+=5),t.match(/.*[!,@,#,$,%,^,&,*,?,_,~].*[!,@,#,$,%,^,&,*,?,_,~]/)&&(r+=5),t.match(/(?=.*[a-z])(?=.*[A-Z])/)&&(r+=2),t.match(/(?=.*\d)(?=.*[a-z])(?=.*[A-Z])/)&&(r+=2),t.match(/(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[!,@,#,$,%,^,&,*,?,_,~])/)&&(r+=2);for(var i={},o=0,l=0,d=t.length;l<d;++l){var h=t.charAt(l);void 0===i[h]&&(i[h]=1,++o)}return 1===o?2:(r*=2,r<0?r=0:r>100&&(r=100),r)},a=function(a,r,n,s,i){var o=e(a,n),l="poor",d=Strings.translateString("Invalid");if(o<17||(o<34?(l="bad",d=Strings.translateString("Weak")):o<51?(l="ok",d=Strings.translateString("Okay")):o<68?(l="good",d=Strings.translateString("Good")):o<85?(l="great",d=Strings.translateString("Secure")):(l="best",d=Strings.translateString("Super!"))),i){r.attr("class","score-segment").addClass(l),r.css("width","20%");var h=r.parent();h.empty(),h.append(r);for(var c=Math.floor(o/20)||1,g=1;g<5;g++){var p=r.clone();g>=c&&p.removeClass(l),p.insertAfter("div.score-segment:last")}}else r.attr("class",l),r.css("width",o+"%");s&&(a?(t(s.parent()).css("opacity",1),s.text(d),s.removeClass("strength")):(t(s.parent()).css("opacity",.5),s.text(Strings.translateString("Strength")),r.attr("class","strength"),r.css("width","100%")))};jQuery.fn.LP_addGeneratePasswordMeter=function(e){if(this&&this.length>0){var r=t(LPTools.createElement("div","meter-gen-pass")),n=t(LPTools.createElement("div"));this.parent().append(r.append(n));var s=e||!1,i=function(){a(t(this).val(),n,"somestringthathopefullydoesnotmatchpassword",null,s)};this.on("input",i).on("change",i)}},jQuery.fn.LP_addPasswordMeter=function(e,r,n){var s=LPTools.createElement("div","meterContainer"),i=LPTools.createElement("div","meter"),o=LPTools.createElement("div"),l=null;i.appendChild(o),s.appendChild(i),i=t(i),o=t(o),r&&(l=LPTools.createElement("label","meterLabel","Strength"),s.appendChild(l),l=t(l),i.css("width","88%"),l.css("width","12%")),this.parent().append(s);var d=n||!1;this.LP_input("passwordMeter",function(t){a(t,o,e?e.val():"",l,d)})}}(jQuery);