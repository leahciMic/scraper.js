!function(){var t=0,e=function(t,e){return"function"!=typeof t||t.replaced?t:(e.replaced=!0,e)};if("undefined"!=typeof CustomEvent&&"function"==typeof window.dispatchEvent){var n=function(e){try{if("object"==typeof e&&(e=JSON.stringify(e)),"string"==typeof e)return window.dispatchEvent(new CustomEvent("lprequeststart",{detail:{data:e,requestID:++t}})),t}catch(t){}},o=function(t){try{window.dispatchEvent(new CustomEvent("lprequestend",{detail:t}))}catch(t){}};"undefined"!=typeof XMLHttpRequest&&XMLHttpRequest.prototype&&XMLHttpRequest.prototype.send&&(XMLHttpRequest.prototype.send=e(XMLHttpRequest.prototype.send,function(t){return function(e){var u=this,r=n(e);return r&&u.addEventListener("loadend",function(){o({requestID:r,statusCode:u.status})}),t.apply(u,arguments)}}(XMLHttpRequest.prototype.send))),"function"==typeof fetch&&(fetch=e(fetch,function(t){return function(e,u){var r=n(u),c=t.apply(this,arguments);if(r){var i=function(t){o({requestID:r,statusCode:t&&t.status})};c.then(i).catch(i)}return c}}(fetch)));var u=function(t){return e(t,function(){try{this.dispatchEvent(new CustomEvent("lpsubmit"))}catch(t){}return t.apply(this,arguments)})},r=function(){if(document&&document.forms&&document.forms.length>0)for(var t=0;t<document.forms.length;++t)document.forms[t].submit=u(document.forms[t].submit)};document&&"interactive"===document.readyState||"complete"===document.readyState?r():window.addEventListener("DOMContentLoaded",r,!0),document.createElement=e(document.createElement,function(t){return function(){var e=t.apply(this,arguments);return e&&"FORM"===e.nodeName&&e.submit&&(e.submit=u(e.submit)),e}}(document.createElement))}}();