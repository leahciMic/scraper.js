function scheduleMigration(){var e=ischromeurl(getcurrenturl());if(!g_loggedinonline||e)return console_log("Delaying migration check"),void setTimeout(scheduleMigration,3e4);refreshFormfillMigrationFeatureFlag(function(){console_log("Checking migration status"),LPContentScriptFeatures.formfill_migration&&g_blob_version.version<20170404140712&&sendLpImprove("migration::formfill::due"),MigrationBackground.subscribeToState(function(e){e||showMigrationPopup()}),Migrator.executeMigrations(),scheduleMigration.isScheduled=!1})}function refreshFormfillMigrationFeatureFlag(e){var t=localStorage_getItem("formfill_feature_last_check");if(!t||new Date(t).getDate()!==(new Date).getDate())return void Feature.isEnabled("formfill_migration",getBrowserPlatformId(),function(t){localStorage_setItem("formfill_feature_last_check",new Date),LPContentScriptFeatures.formfill_migration=t,e()});e()}function showMigrationPopup(){LPPlatform.getCurrentTab(function(e){if(!e||!e.getTop()){return void setTimeout(showMigrationPopup,3e4)}e.getTop().LPFrame.openDialog("migrationPopup",{url:getchromeurl("",!0)},{css:{top:0,right:0}})})}scheduleMigration.isScheduled=!1;